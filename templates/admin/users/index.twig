{% extends 'admin/admin.twig' %}

{% import 'macros/admin.twig' as admin %}
{% import 'macros/paginator.twig' as paginator %}

{% block style %}
    <link rel="stylesheet" href="{{ base_url() }}/assets/css/tables.css" />
{% endblock %}

{% block content %}
<div class="uk-card uk-card-default uk-card-body uk-width-1-1@m">
    <div f-table f-divider>
        <ul th>
            <li class="uk-width-1-6@m uk-visible@m"></li>
            <li class="uk-width-1-3@m uk-width-2-3@s uk-visible@s">Login</li>
            <li class="uk-width-1-3@m uk-width-1-3@s uk-visible@s">Email</li>
            <li class="uk-width-1-6@m uk-visible@m"></li>
        </ul>
        {% for user in users %}
        <ul>
            <li class="uk-width-1-6@m uk-visible@m"><span uk-icon="icon: user" class="avatar"></span></li>
            <li class="uk-width-1-3@m uk-width-2-3@s">
                {% if has_access_permission('admin', 'user', 'view') %}
                    <a href="{{ path_for('admin_users_view', {'user': user.id}) }}">{{ user.login }}</a>
                {% else %}
                    {{ user.login }}
                {% endif %}
            </li>
            <li class="uk-width-1-3@m uk-width-1-3@s">{{ user.email }}</li>
            <li class="uk-width-1-6@m">{{ admin.edit_btn(path_for('admin_users_edit', {'user': user.id})) }}</li>
        </ul>
        {% endfor %}
    </div>
	{{ paginator.render(pagination) }}
</div>
{% endblock %}
